<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="erp.system.hr.dept.mapper.DeptMapper">
	<select id="getDept" resultType="deptVO">
		SELECT DEPT_CODE, DEPT_NAME,
		PARENT_DEPT, APPOINT_DATE, END_DATE, BIGO FROM
		DEPTMASTER
		where
		DEPT_NAME LIKE '%'||#{deptName}||'%'
	</select>
	<select id="getDeptList" resultType="deptVO">
		SELECT DEPT_CODE, DEPT_NAME,
		PARENT_DEPT, APPOINT_DATE, END_DATE, BIGO FROM
		DEPTMASTER
	</select>
	<select id="getDeptListByLevel" resultType="deptVO">
		SELECT
		dept_code,
		dept_name,
		parent_dept,
		level
		FROM
		DEPTMASTER
		START WITH
		dept_code =
		'D01000'
		CONNECT BY
		PRIOR dept_code = parent_dept
	</select>
	<select id="getDeptBydeptCode" resultType="deptVO">
		SELECT DEPT_CODE,
		DEPT_NAME, PARENT_DEPT, APPOINT_DATE, END_DATE, BIGO FROM
		DEPTMASTER
		where
		DEPT_CODE = #{deptCode}
	</select>


	<insert id="insertDept" parameterType="deptVO">
		INSERT INTO DEPTMASTER
		(DEPT_CODE
		, DEPT_NAME
		, PARENT_DEPT
		, APPOINT_DATE
		<if test="bigo!=null">
		, BIGO
		</if>
		 )
		VALUES(
		#{deptCode}
		, #{deptName}
		, #{parentDept}
		, #{appointDate}
		<if test="bigo!=null">
		, #{bigo}
		</if>
		)
	</insert>
</mapper>
